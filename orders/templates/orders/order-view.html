{% extends 'products/base.html' %}
{% load static %}
{% load i18n %}

{% block css %}
<link href="{% static '/vendor/css/orders.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<section>
    <div class="container pt-5">
        <div class="text-center mt-5">
            <h1>{% trans 'Order' %} â„–{{ order.id }}</h1>
            <div class="orders mt-5">
                <div class="row justify-content-center">
                    <div class="col-12">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">{% trans 'Title' %}</th>
                                <th scope="col">{% trans 'Quantity' %}</th>
                                <th scope="col">{% trans 'Price' %}</th>
                                <th scope="col">{% trans 'Sum' %}</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for product_basket in product_baskets %}
                            <tr>
                                <th scope="row">
                                    <a href="{% url 'products:comments:view' product_basket.product.id %}">
                                        {{ product_basket.product.name }}
                                    </a>
                                </th>
                                <td>{{ product_basket.quantity }}</td>
                                <td>{{ product_basket.price }} {{ order.currency.symbol }}</td>
                                <td>{{ product_basket.sum }} {{ order.currency.symbol }}</td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                        <p class="float-right h4 mt-3">
                            {% trans 'Total' %} {{ product_baskets.total_sum }} {{ order.currency }}
                        </p>
                    </div>

                    <h3 class="mt-5">{% trans 'Shipping information' %}</h3>
                    <div class="orders my-5 col-12">
                        <table class="table">
                            <tr>
                                <th scope="row">
                                    {% trans 'Receiver' %}
                                </th>
                                <td>{{ order.first_name }} {{ order.last_name }}</td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    {% trans 'Contact' %}
                                </th>
                                <td>
                                    <p>{{ order.phone }}</p>
                                    <p>{{ order.email }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    {% trans 'Address' %}
                                </th>
                                <td>
                                    <a href="{{ maps }}" target="_blank">{{ order.country.name }}, {{ order.address }}, {{ order.postal_code }}</a>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    {% trans 'Order status' %}
                                </th>
                                <td>{{ order.get_status_display }}</td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    {% trans 'Last order update' %}
                                </th>
                                <td>{{ order.updated }}</td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
